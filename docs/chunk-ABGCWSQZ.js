import{a as $}from"./chunk-FA2OZNLQ.js";import{a as A,b as U,c as q,e as G,f as J}from"./chunk-GWUGB7PY.js";import{b as L,c as x,d as j,e as B,g as R,k as W}from"./chunk-PAJSGVAR.js";import{$ as u,$a as E,Ca as C,Fa as D,Ha as f,Ma as s,Oa as l,Pa as p,Qa as M,Ra as O,Sa as V,Ta as _,Ua as g,Va as c,Wa as F,Xa as m,Z as H,Za as P,_ as d,_a as k,ab as N,ea as T,eb as z,fb as y,gb as w,sa as I,ta as r,ya as h}from"./chunk-GQUFBJIP.js";var b=class i{transform(t,e){return!t||!e?t:(e=e.toLowerCase(),t.filter(n=>n.name.toLowerCase().includes(e)))}static \u0275fac=function(e){return new(e||i)};static \u0275pipe=D({name:"filterHotels",type:i,pure:!0})};var Z=(i,t)=>({"btn-primary":i,"btn-outline-primary":t});function ee(i,t){if(i&1){let e=_();l(0,"button",7),g("click",function(){d(e);let o=c().$implicit,a=c(2);return u(a.goToPage(o))}),m(1),p()}if(i&2){let e=c().$implicit,n=c(2);s("ngClass",z(2,Z,e===n.currentPage,e!==n.currentPage)),r(),P(" ",e," ")}}function te(i,t){i&1&&(l(0,"span",8),m(1,"..."),p())}function ie(i,t){if(i&1&&(O(0),f(1,ee,2,5,"button",5)(2,te,2,0,"span",6),V()),i&2){let e=t.$implicit;r(),s("ngIf",e!=="..."),r(),s("ngIf",e==="...")}}function ne(i,t){if(i&1){let e=_();l(0,"div",1)(1,"button",2),g("click",function(){d(e);let o=c();return u(o.prevPage())}),m(2," Previous "),p(),f(3,ie,3,2,"ng-container",3),l(4,"button",4),g("click",function(){d(e);let o=c();return u(o.nextPage())}),m(5," Next "),p()()}if(i&2){let e=c();r(),s("disabled",e.currentPage===1),r(2),s("ngForOf",e.getPages()),r(),s("disabled",e.currentPage===e.totalPages)}}var S=class i{data=[];pageSize=10;paginated=new T;currentPage=1;totalPages=1;ngOnChanges(t){t.data&&(this.currentPage=1,this.updatePagination())}updatePagination(){this.totalPages=Math.ceil(this.data.length/this.pageSize);let t=(this.currentPage-1)*this.pageSize,e=this.data.slice(t,t+this.pageSize);this.paginated.emit(e)}goToPage(t){typeof t=="number"&&(this.currentPage=t,this.updatePagination())}prevPage(){this.goToPage(this.currentPage-1)}nextPage(){this.goToPage(this.currentPage+1)}getPages(){let t=[],n=Math.floor(2.5);if(this.totalPages<=5)for(let o=1;o<=this.totalPages;o++)t.push(o);else{let o=this.currentPage-n,a=this.currentPage+n;o<=1?(o=1,a=5):a>=this.totalPages&&(o=this.totalPages-5+1,a=this.totalPages),o>1&&(t.push(1),o>2&&t.push("..."));for(let v=o;v<=a&&v<=this.totalPages;v++)t.push(v);a<this.totalPages&&(a<this.totalPages-1&&t.push("..."),t.push(this.totalPages))}return t}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=C({type:i,selectors:[["app-pagination-control"]],inputs:{data:"data",pageSize:"pageSize"},outputs:{paginated:"paginated"},features:[H],decls:1,vars:1,consts:[["class","text-center mt-3",4,"ngIf"],[1,"text-center","mt-3"],[1,"btn","btn-sm","text-white","btn-secondary","me-2",3,"click","disabled"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","text-white","btn-secondary","ms-2",3,"click","disabled"],["class","btn btn-sm me-1","style","border: 1px solid #0eb0eb;",3,"ngClass","click",4,"ngIf"],["class","me-1 px-2",4,"ngIf"],[1,"btn","btn-sm","me-1",2,"border","1px solid #0eb0eb",3,"click","ngClass"],[1,"me-1","px-2"]],template:function(e,n){e&1&&f(0,ne,6,3,"div",0),e&2&&s("ngIf",n.totalPages>1)},dependencies:[B,L,x,j],encapsulation:2})};function oe(i,t){if(i&1){let e=_();l(0,"div",11)(1,"div",12),M(2,"img",13),l(3,"div",14)(4,"span",15),g("click",function(){let o=d(e).$implicit,a=c();return u(a.viewHotelDetails(o))}),m(5),p()()()()}if(i&2){let e=t.$implicit;r(2),F("alt",e.name),s("src",e.image,I),r(3),P(" ",e.name," ")}}var Q=class i{constructor(t,e,n,o){this.http=t;this.router=e;this.sharedService=n;this.hotelService=o}HotelDataList=[];searchText="";pageSize=18;currentPage=1;totalPages=1;paginatedHotels=[];ngOnInit(){debugger;this.getHotelData()}getHotelData(){this.hotelService.getHotelData().subscribe({next:t=>{this.HotelDataList=t},error:t=>{console.error("Error fetching hotel data",t)}})}viewHotelDetails(t){debugger;this.sharedService.setHotel(t),this.router.navigate(["hotel-monitoring"])}static \u0275fac=function(e){return new(e||i)(h(R),h(W),h(J),h($))};static \u0275cmp=C({type:i,selectors:[["app-hotel-search"]],decls:15,vars:10,consts:[[1,"container-fluid"],[1,"card"],[1,"card-header","p-2"],[1,"row"],[1,"col-sm-9","pt-2"],[1,"col-sm-3","float-end"],["type","text","placeholder","Search hotels...",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","pt-2"],["class","col-lg-2 col-md-4 col-sm-6 mb-3",4,"ngFor","ngForOf"],[1,"float-end"],[3,"paginated","data","pageSize"],[1,"col-lg-2","col-md-4","col-sm-6","mb-3"],[1,"card","h-100","hover-card"],[1,"card-img-top","fixed-img",3,"src","alt"],[1,"card-body","p-2","text-center"],[1,"text-primary","fw-bold",3,"click"]],template:function(e,n){e&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5"),m(6,"Hotels"),p()(),l(7,"div",5)(8,"input",6),N("ngModelChange",function(a){return E(n.searchText,a)||(n.searchText=a),a}),p()()()()(),l(9,"div",7),f(10,oe,6,3,"div",8),y(11,"filterHotels"),p(),l(12,"div",9)(13,"app-pagination-control",10),y(14,"filterHotels"),g("paginated",function(a){return n.paginatedHotels=a}),p()()()),e&2&&(r(8),k("ngModel",n.searchText),r(2),s("ngForOf",w(11,4,n.paginatedHotels,n.searchText)),r(3),s("data",w(14,7,n.HotelDataList,n.searchText))("pageSize",n.pageSize))},dependencies:[G,x,A,U,q,b,S],styles:[".fixed-img[_ngcontent-%COMP%]{height:180px;object-fit:cover;width:100%;border-radius:4px}.hover-card[_ngcontent-%COMP%]{transition:transform .3s ease,box-shadow .3s ease;border-radius:8px}.hover-card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 10px 20px #00000040}"]})};export{Q as HotelSearchComponent};
